(this["webpackJsonpreact-ecommerce"]=this["webpackJsonpreact-ecommerce"]||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),i=a(8),o=a(3),s=a(52),m=(a(66),a(5)),u=a.n(m),d=a(1),p=a(9),E=a(7),f=a(6),b=a(2),h=(a(68),a(18)),v=Object(b.a)([function(e){return e.directory}],(function(e){return e.sections})),g=(a(69),Object(f.h)((function(e){var t=e.title,a=e.imageUrl,n=(e.size,e.history),r=e.linkUrl,l=e.match;return c.a.createElement("div",{className:"menu-item",onClick:function(){return n.push("".concat(l.url).concat(r))}},c.a.createElement("div",{className:"background-image",style:{backgroundImage:"url(".concat(a,")")}}),c.a.createElement("h1",{className:"title"},t.toUpperCase()))}))),O=(a(71),Object(b.b)({sections:v})),N=Object(o.b)(O)((function(e){var t=e.sections;return c.a.createElement("div",{className:"directory-page"},c.a.createElement("h1",null,"COLLECTIONS"),c.a.createElement("div",{className:"directory-menu"},t.map((function(e){var t=e.id,a=Object(h.a)(e,["id"]);return c.a.createElement(g,Object.assign({key:t},a))}))))})),y=a(28),j=a(29),C=a(32),k=a(31);a(72);function I(e){var t=e.children,a=e.isGoogleSignIn,n=e.inverted,r=e.addedCart,l=e.searchButton,i=e.adminButton,o=e.selectedAdmin,s=e.pageButton,m=Object(h.a)(e,["children","isGoogleSignIn","inverted","addedCart","searchButton","adminButton","selectedAdmin","pageButton"]);return c.a.createElement("button",Object.assign({className:"\n      ".concat(n?"inverted":""," \n      ").concat(a?"google-sign-in":"","\n      ").concat(r?"cart-added":"","\n      ").concat(l?"search-button":"","\n      ").concat(i?"admin-button":"","  \n      ").concat(o?"selected-admin-button":"","\n      ").concat(s?"page-number_button":"","\n      custom-button\n      ")},m),t)}a(73);var S=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(y.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.props.history.push("".concat("/react-ecommerce","/search/").concat(e.state.searchValue))},e.handleChange=function(t){e.setState({searchValue:t.target.value})},e.state={searchValue:""},e}return Object(j.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"billboard-container"},c.a.createElement("div",{className:"image-container"},c.a.createElement("div",{className:"search-container"},c.a.createElement("p",{className:"name wear"},"WEAR."),c.a.createElement("p",{className:"name somtn"},"SOMTN."),c.a.createElement("form",{className:"billboard-search-form",onSubmit:this.handleSubmit,autoComplete:"off"},c.a.createElement("label",{className:"suggestion"},"Search for clothes."),c.a.createElement("div",{className:"search-bar-container"},c.a.createElement("input",{className:"billboard-search-input",type:"search",name:"searchBar",value:this.state.searchValue,onChange:this.handleChange,placeholder:"Sneakers,jackets,hats...",required:!0}),c.a.createElement(I,{searchButton:!0,type:"submit"},"Search"))),c.a.createElement("p",{className:"suggestion"},"or check out collections below."))))}}]),a}(c.a.Component),T=Object(f.h)(S),w=(a(74),function(){return c.a.createElement("div",{className:"homepage"},c.a.createElement(T,null),c.a.createElement(N,null))}),A=(a(75),a(17)),U=function(e){return e.shop},L=Object(b.a)([U],(function(e){return e.collections})),R=Object(b.a)([L],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),_=function(e){return Object(b.a)([R],(function(t){var a,n=t.map((function(t){return t.items.filter((function(a){return a.name.toLowerCase().includes(e.toLowerCase())?a:t.title.toLowerCase().includes(e.toLowerCase())?t:void 0}))}));return(a=[]).concat.apply(a,Object(A.a)(n))}))},x=(Object(b.a)([U],(function(e){return e.isFetching})),Object(b.a)([U],(function(e){return!!e.collections}))),M=Object(b.a)([L],(function(e){return e?Object.keys(e).map((function(t){return{collectionName:t,collectionKey:e[t].id}})):[]})),D=Object(b.a)([L],(function(e){return e?Object.keys(e).length:0})),F=Object(b.a)([L],(function(e){return e?Object.keys(e).reduce((function(t,a){return t+e[a].items.length}),0):0})),H=Object(b.a)([L],(function(e){return e?Object.keys(e).reduce((function(t,a){return[].concat(Object(A.a)(t),Object(A.a)(e[a].items.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{price:Number(t.price),category:{name:a,dbid:e[a].id}})}))))}),[]):[]})),q=(a(76),Object(f.h)(Object(o.b)((function(e,t){return{itemCategory:(a=t.item.name,Object(b.a)([R],(function(e){return e.find((function(e){return e.items.find((function(e){return e.name===a}))})).routeName})))(e)};var a}))((function(e){var t=e.item,a=e.history,n=e.itemCategory,r=t.name,l=t.price,i=t.imageUrl;return c.a.createElement("div",{className:"collection-item",onClick:function(){return a.push("".concat("/react-ecommerce","/shop/").concat(n,"/").concat(t.id))}},c.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(i,")")}}),c.a.createElement("div",{className:"item-details"},c.a.createElement("div",{className:"name"},r),c.a.createElement("div",{className:"price"},"$",l)))}))));function P(e){var t=e.title,a=e.items;return c.a.createElement("div",{className:"collection-preview"},c.a.createElement("h1",null,t.toUpperCase()),c.a.createElement("div",{className:"preview"},a.filter((function(e,t){return t<5})).map((function(e){return c.a.createElement(q,{key:e.id,item:e})}))))}var B=Object(b.b)({collections:R}),V=Object(o.b)(B)((function(e){var t=e.collections;return c.a.createElement("div",{className:"collections-overview"},t.map((function(e){var t=e.id,a=Object(h.a)(e,["id"]);return c.a.createElement(P,Object.assign({key:t},a))})))})),G=(a(77),Object(o.b)((function(e,t){return{collection:(a=t.match.params.collectionId,Object(b.a)([L],(function(e){return e?e[a]:null})))(e)};var a}))((function(e){var t=e.collection,a=t.title,n=t.items;return c.a.createElement("div",{className:"collection-page"},c.a.createElement("h2",{className:"title"},a.toUpperCase()),c.a.createElement("div",{className:"items"},n.map((function(e){return c.a.createElement(q,{key:e.id,item:e})}))))}))),W={TOGGLE_CART_HIDDEN:"TOGGLE_CART_HIDDEN",ADD_ITEM:"ADD_ITEM",CLEAR_ITEM_FROM_CART:"CLEAR_ITEM_FROM_CART",REMOVE_ITEM:"REMOVE_ITEM"},Q=function(){return{type:W.TOGGLE_CART_HIDDEN}},z=function(e){return{type:W.ADD_ITEM,payload:e}},J=(a(78),Object(o.b)((function(e,t){var a,n,c=t.match.params,r=c.collectionId,l=c.itemId;return{item:(a=r,n=l,Object(b.a)([L],(function(e){return e[a].items.find((function(e){return e.id==n}))})))(e)}}),(function(e){return{addItem:function(t){return e(z(t))}}}))((function(e){var t=e.item,a=e.addItem;return c.a.createElement("div",{className:"detail-page"},c.a.createElement("div",{className:"item-image-container"},c.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(t.imageUrl,")")}})),c.a.createElement("div",{className:"item-details-container"},c.a.createElement("h1",{className:"item-name"},t.name),c.a.createElement("p",{className:"item-description"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut molestie pretium turpis ut malesuada. Mauris fermentum erat eget sem hendrerit, et tristique lectus congue. Duis turpis sem, hendrerit et libero."),c.a.createElement("p",{className:"item-description"},"Size: Med "),c.a.createElement("p",{className:"item-description"},"Color: Orange "),c.a.createElement("h2",{className:"item-price"},"$",t.price),c.a.createElement(I,{addedCart:!0,onClick:function(){return a(t)}},"ADD TO CART")))}))),K=(a(79),function(e){return function(t){var a=t.isLoading,n=Object(h.a)(t,["isLoading"]);return a?c.a.createElement("div",{className:"spinner-overlay"},c.a.createElement("div",{className:"spinner-container"})):c.a.createElement(e,n)}}),Y=a(19),$=a.n(Y),Z=(a(80),a(83),function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,c,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=te.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return c=t.displayName,r=t.email,l=new Date,e.prev=9,e.next=12,n.set(Object(d.a)({displayName:c,email:r,createdAt:l},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}()),X=function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,c,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>2&&void 0!==r[2]?r[2]:"add",c=te.collection("collections").doc(t),e.prev=2,"add"!==n){e.next=8;break}return e.next=6,c.update({items:$.a.firestore.FieldValue.arrayUnion(a)});case 6:e.next=12;break;case 8:if("remove"!==n){e.next=12;break}return e.next=11,c.update({items:$.a.firestore.FieldValue.arrayRemove(a)});case 11:console.log(a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Error updating item list: ",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}();$.a.initializeApp({apiKey:"AIzaSyDpJsgDA2DTkQy8-1ookVqp7Bqc1Oba8Dk",authDomain:"react-commerce-db-ad6da.firebaseapp.com",databaseURL:"https://react-commerce-db-ad6da.firebaseio.com",projectId:"react-commerce-db-ad6da",storageBucket:"react-commerce-db-ad6da.appspot.com",messagingSenderId:"1015993007368",appId:"1:1015993007368:web:6f3628afdf1585727040bd",measurementId:"G-HNL82FFDNM"});var ee=$.a.auth(),te=$.a.firestore(),ae=new $.a.auth.GoogleAuthProvider;ae.setCustomParameters({prompt:"select_account"});var ne=function(){return ee.signInWithPopup(ae)},ce=($.a,{FETCH_COLLECTIONS_START:"FETCH_COLLECTIONS_START",FETCH_COLLECTIONS_SUCCESS:"FETCH_COLLECTIONS_SUCCESS",FETCH_COLLECTIONS_FAILURE:"FETCH_COLLECTIONS_FAILURE"}),re=function(e){return function(e){var t=te.collection("collections");e({type:ce.FETCH_COLLECTIONS_START}),t.get().then((function(t){var a=t.docs.map((function(e){var t=e.data(),a=t.title,n=t.items;return{routeName:encodeURI(a.toLowerCase()),id:e.id,title:a,items:n}})).reduce((function(e,t){return e[t.title.toLowerCase()]=t,e}),{});e(function(e){return{type:ce.FETCH_COLLECTIONS_SUCCESS,payload:e}}(a))})).catch((function(t){return e((a=t.message,{type:ce.FETCH_COLLECTIONS_FAILURE,payload:a}));var a}))}},le=K(V),ie=K(G),oe=K(J),se=Object(b.b)({isCollectionLoaded:x}),me=Object(o.b)(se,(function(e){return{fetchCollectionsStartAsync:function(){return e(re())}}}))((function(e){var t=e.fetchCollectionsStartAsync,a=e.match,r=e.isCollectionLoaded;return Object(n.useEffect)((function(){t()}),[t]),c.a.createElement("div",{className:"shop-page"},c.a.createElement(f.b,{exact:!0,path:"".concat(a.path),render:function(e){return c.a.createElement(le,Object.assign({isLoading:!r},e))}}),c.a.createElement(f.b,{exact:!0,path:"".concat(a.path,"/:collectionId"),render:function(e){return c.a.createElement(ie,Object.assign({isLoading:!r},e))}}),c.a.createElement(f.b,{path:"".concat(a.path,"/:collectionId/:itemId"),render:function(e){return c.a.createElement(oe,Object.assign({isLoading:!r},e))}}))})),ue=(a(85),function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCollectionsStartAsync)()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.resultItems,n=e.isCollectionLoaded;return c.a.createElement("div",{className:"search-results-page"},c.a.createElement("h2",{className:"title"},a.length?'SEARCH RESULTS FOR:"'.concat(t.params.searchQuery,'"'):n?c.a.createElement("p",null,"CAN'T FIND ANY ITEMS WITH \"",t.params.searchQuery,'"'):c.a.createElement("p",null,"Searching...")),c.a.createElement("div",{className:"items"},a.length?a.map((function(e){return c.a.createElement(q,{key:e.id,item:e})})):null))}}]),a}(c.a.Component)),de=Object(o.b)((function(e,t){var a=t.match.params.searchQuery;return{resultItems:_(a)(e),isCollectionLoaded:x(e)}}),(function(e){return{fetchCollectionsStartAsync:function(){return e(re())}}}))(ue),pe=function(e){return e.cart},Ee=Object(b.a)([pe],(function(e){return e.cartItems})),fe=Object(b.a)([pe],(function(e){return e.hidden})),be=Object(b.a)([Ee],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),he=Object(b.a)([Ee],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)}));function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Oe=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M458.667,106.667h-96V53.333c0-2.833-1.125-5.542-3.125-7.542L316.875,3.125c-2-2-4.708-3.125-7.542-3.125H160 c-2.833,0-5.542,1.125-7.542,3.125l-42.667,42.667c-2,2-3.125,4.708-3.125,7.542v53.333h-96C4.771,106.667,0,111.437,0,117.333 v309.333c0,23.531,19.135,42.667,42.667,42.667h384c23.531,0,42.667-19.135,42.667-42.667V117.333 C469.333,111.437,464.563,106.667,458.667,106.667z M320,36.417l21.333,21.333v48.917H320V36.417z M170.667,21.333h128v21.333 h-128V21.333z M170.667,64h128v42.667h-128V64z M128,57.75l21.333-21.333v70.25H128V57.75z M448,426.667 c0,11.76-9.573,21.333-21.333,21.333h-384c-11.76,0-21.333-9.573-21.333-21.333V128H448V426.667z"}))),Ne=c.a.createElement("g",null),ye=c.a.createElement("g",null),je=c.a.createElement("g",null),Ce=c.a.createElement("g",null),ke=c.a.createElement("g",null),Ie=c.a.createElement("g",null),Se=c.a.createElement("g",null),Te=c.a.createElement("g",null),we=c.a.createElement("g",null),Ae=c.a.createElement("g",null),Ue=c.a.createElement("g",null),Le=c.a.createElement("g",null),Re=c.a.createElement("g",null),_e=c.a.createElement("g",null),xe=c.a.createElement("g",null),Me=function(e){var t=e.svgRef,a=e.title,n=ge(e,["svgRef","title"]);return c.a.createElement("svg",ve({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 469.333 469.333",style:{enableBackground:"new 0 0 469.333 469.333"},xmlSpace:"preserve",ref:t},n),a?c.a.createElement("title",null,a):null,Oe,Ne,ye,je,Ce,ke,Ie,Se,Te,we,Ae,Ue,Le,Re,_e,xe)},De=c.a.forwardRef((function(e,t){return c.a.createElement(Me,ve({svgRef:t},e))})),Fe=(a.p,a(86),Object(b.b)({itemCount:be})),He=Object(o.b)(Fe,(function(e){return{toggleCartHidden:function(){return e(Q())}}}))((function(e){var t=e.toggleCartHidden,a=e.itemCount;return c.a.createElement("div",{className:"cart-icon",onClick:t},c.a.createElement(De,{className:"shopping-icon"}),c.a.createElement("span",{className:"item-count"},a))})),qe=(a(87),function(e){var t=e.item,a=t.imageUrl,n=t.price,r=t.name,l=t.quantity;return c.a.createElement("div",{className:"cart-item"},c.a.createElement("img",{src:a,alt:"item"}),c.a.createElement("div",{className:"item-details"},c.a.createElement("span",{className:"name"},r),c.a.createElement("span",{className:"price"},l," x $",n)))}),Pe=(a(88),Object(b.b)({cartItems:Ee})),Be=Object(f.h)(Object(o.b)(Pe)((function(e){var t=e.cartItems,a=e.history,n=e.dispatch;return c.a.createElement("div",{className:"cart-dropdown"},c.a.createElement("div",{className:"cart-items"},t.length?t.map((function(e){return c.a.createElement(qe,{key:e.id,item:e})})):c.a.createElement("span",{className:"empty-message"},"Your cart is empty")),c.a.createElement(I,{onClick:function(){a.push("".concat("/react-ecommerce","/checkout")),n(Q())}},"GO TO CHECKOUT"))}))),Ve=Object(b.a)([function(e){return e.user}],(function(e){return e.currentUser})),Ge=Object(b.a)([Ve],(function(e){return!!e&&e.isAdmin})),We=(a(89),Object(b.b)({currentUser:Ve,hidden:fe,isAdmin:Ge})),Qe=Object(o.b)(We)((function(e){var t=e.currentUser,a=e.hidden,n=e.isAdmin;return c.a.createElement("div",{className:"header"},c.a.createElement(i.b,{className:"logo-container",to:"/react-ecommerce/"},c.a.createElement("div",{className:"logo",alt:"company-logo"}),"WEARSOMTN"),c.a.createElement("div",{className:"options"},n?c.a.createElement(i.b,{className:"option is-admin",to:"/react-ecommerce/admin"},"ADMIN"):null,c.a.createElement(i.b,{className:"option",to:"/react-ecommerce/shop"},"SHOP"),c.a.createElement("a",{className:"option",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/pdouu/react-ecommerce"},"CONTACT"),t?c.a.createElement(i.b,{className:"option",onClick:function(){return ee.signOut()},to:"/react-ecommerce/"},"SIGN OUT"):c.a.createElement(i.b,{className:"option",to:"/react-ecommerce/signin"},"SIGN IN"),c.a.createElement(He,null)),a?null:c.a.createElement(Be,null))})),ze=a(16);a(90);function Je(e){var t=e.handleChange,a=e.label,n=Object(h.a)(e,["handleChange","label"]);return c.a.createElement("div",{className:"group"},c.a.createElement("input",Object.assign({className:"form-input",onChange:t},n)),a?c.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},a):null)}a(91);var Ke=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(E.a)(e,2),a=t[0],r=t[1],l=a.email,i=a.password,o=function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ee.signInWithEmailAndPassword(l,i);case 4:r({email:"",password:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(e){var t=e.target,n=t.value,c=t.name;r(Object(d.a)(Object(d.a)({},a),{},Object(ze.a)({},c,n)))};return c.a.createElement("div",{className:"sign-in"},c.a.createElement("h2",{className:"title"},"I Already Have an Account"),c.a.createElement("span",null,"Sign in with your email and password"),c.a.createElement("form",{className:"sign-in-form",onSubmit:o},c.a.createElement(Je,{name:"email",type:"email",value:a.email,handleChange:s,label:"email",required:!0}),c.a.createElement(Je,{name:"password",type:"password",value:a.password,handleChange:s,label:"password",required:!0}),c.a.createElement("div",{className:"buttons"},c.a.createElement(I,{type:"submit"},"Sign In"),c.a.createElement(I,{type:"button",onClick:ne,isGoogleSignIn:!0},"Sign in with Google"))))},Ye=(a(92),function(){var e=Object(n.useState)({displayName:"",email:"",password:"",confirmPassword:""}),t=Object(E.a)(e,2),a=t[0],r=t[1],l=a.displayName,i=a.email,o=a.password,s=a.confirmPassword,m=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o===s){e.next=4;break}return alert("Passwords do not match!"),e.abrupt("return");case 4:return e.prev=4,e.next=7,ee.createUserWithEmailAndPassword(i,o);case 7:return a=e.sent,n=a.user,e.next=11,Z(n,{displayName:l});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.target,n=t.name,c=t.value;r(Object(d.a)(Object(d.a)({},a),{},Object(ze.a)({},n,c)))};return c.a.createElement("div",{className:"sign-up"},c.a.createElement("h2",{className:"title"},"I do not have an account"),c.a.createElement("span",null,"Sign up with your email and password"),c.a.createElement("form",{className:"sign-up-form",onSubmit:m},c.a.createElement(Je,{type:"text",name:"displayName",value:l,onChange:f,label:"Display Name",required:!0}),c.a.createElement(Je,{type:"email",name:"email",value:i,onChange:f,label:"Email",required:!0}),c.a.createElement(Je,{type:"password",name:"password",value:o,onChange:f,label:"Password",required:!0}),c.a.createElement(Je,{type:"password",name:"confirmPassword",value:s,onChange:f,label:"Confirm Password",required:!0}),c.a.createElement("div",{className:"buttons"},c.a.createElement(I,{type:"submit"},"SIGN UP"))))});a(93);function $e(){return c.a.createElement("div",{className:"sign-in-and-sign-up"},c.a.createElement(Ke,null),c.a.createElement(Ye,null))}a(94);var Ze=Object(o.b)(null,(function(e){return{clearItem:function(t){return e(function(e){return{type:W.CLEAR_ITEM_FROM_CART,payload:e}}(t))},addItem:function(t){return e(z(t))},removeItem:function(t){return e(function(e){return{type:W.REMOVE_ITEM,payload:e}}(t))}}}))((function(e){var t=e.cartItem,a=e.clearItem,n=e.addItem,r=e.removeItem,l=t.name,i=t.imageUrl,o=t.price,s=t.quantity;return c.a.createElement("div",{className:"checkout-item"},c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:i,alt:"item"})),c.a.createElement("span",{className:"name"},l),c.a.createElement("span",{className:"quantity"},c.a.createElement("div",{className:"arrow",onClick:function(){r(t)}},"\u276e"),c.a.createElement("span",{className:"value"},s),c.a.createElement("div",{className:"arrow",onClick:function(){n(t)}},"\u276f")),c.a.createElement("span",{className:"price"},"$",o),c.a.createElement("div",{className:"remove-button",onClick:function(){return a(t)}},"\u2716"))})),Xe=a(53),et=a.n(Xe),tt=a(54),at=a.n(tt),nt=function(e){var t=e.price,a=100*t;return c.a.createElement(et.a,{label:"Pay Now",name:"WEARSOMTN Clothing",billingAddress:!0,shippingAddress:!0,image:"https://i.ibb.co/fSVkD7T/sport-wear1.png",description:"Your total is $".concat(t),amount:a,panelLabel:"Pay Now",token:function(e){at()({url:"https://wearsomtn-backend.herokuapp.com/payment",method:"post",data:{amount:a,token:e}}).then((function(e){alert("Payment Successfull")})).catch((function(e){console.log(e),alert("Payment Failed. Please use the provided credit card.")}))},stripeKey:"pk_test_51Hc6tIJ8KN2gJsBHWOfHDD3A83fjat1uYb9e6oe7GeRBqHB4RGLQPP8DS3k8O2tOHbckE3WsX0mU1LtZzIbkYWqE00JZNZfEYq"})},ct=(a(111),Object(b.b)({cartItems:Ee,total:he})),rt=Object(o.b)(ct,{})((function(e){var t=e.cartItems,a=e.total;return c.a.createElement("div",{className:"checkout-page"},c.a.createElement("div",{className:"checkout-header"},c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Product")),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Description")),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Quantity")),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Price")),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Remove"))),a?t.map((function(e){return c.a.createElement(Ze,{key:e.id,cartItem:e})})):c.a.createElement("p",{className:"cart-empty-message"},"Your cart is empty"),c.a.createElement("div",{className:"total"},c.a.createElement("div",{className:"test-warning"},c.a.createElement("p",null,"*Use the following test credit card for payment test*"),c.a.createElement("p",null,"4242 4242 4242 4242 - Expire: 01/22 - CVV :123")),c.a.createElement("div",{className:"payment"},c.a.createElement("div",{className:"total-price"},"Total: $",a),a?c.a.createElement(nt,{price:a}):null)))})),lt={SET_CURRENT_USER:"SET_CURRENT_USER"},it=(a(112),function(){return c.a.createElement("div",{className:"footer-container"},c.a.createElement("div",{className:"links-container"},c.a.createElement("a",{className:"footer-link github",href:"https://github.com/pdouu/react-ecommerce/tree/backend",target:"_blank",rel:"noopener noreferrer"}),c.a.createElement("div",{className:"footer-link linkedin"}),c.a.createElement("div",{className:"footer-link twitter"}),c.a.createElement("div",{className:"footer-link youtube"})),c.a.createElement("div",{className:"logo-container"},c.a.createElement("div",{className:"logo",alt:"company-logo"}),"WEARSOMTN"))}),ot=a(122),st=(a(113),Object(o.b)((function(e){return{itemCategories:M(e)}}))((function(e){var t=e.itemCategories,a=e.fetchFunc,r=Object(n.useState)({category:"",name:"",imageUrl:"",price:"",id:""}),l=Object(E.a)(r,2),i=l[0],o=l[1];Object(n.useEffect)((function(){t&&o(Object(d.a)(Object(d.a)({},i),{},{id:Object(ot.a)(),category:t[0]?t[0].collectionKey:[]}))}),[t]);var s=function(e){var t=e.target,a=t.value,n=t.name;o(Object(d.a)(Object(d.a)({},i),{},Object(ze.a)({},n,a)))},m=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,c,r,l,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=i.category,c=i.name,r=i.imageUrl,l=i.price,s=i.id,e.prev=2,e.next=5,X(n,{name:c,imageUrl:r,price:l,id:s},"add");case 5:alert("Item Added"),a(),o(Object(d.a)(Object(d.a)({},i),{},{name:"",imageUrl:"",price:"",id:""})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"dashboard-add-item-container"},c.a.createElement("h1",{className:"title"},"ADD NEW ITEM"),c.a.createElement("form",{className:"dashboard-add-item-form",onSubmit:m},c.a.createElement("label",null,"Item Category"),c.a.createElement("select",{className:"item-add-input",name:"category",onChange:s},t.map((function(e,t){return c.a.createElement("option",{key:e.collectionKey,name:"category",value:e.collectionKey},e.collectionName.toUpperCase())}))),c.a.createElement("label",null,"Item Name"),c.a.createElement("input",{className:"item-add-input",name:"name",type:"text",value:i.name,onChange:s,required:!0}),c.a.createElement("label",null,"Item Price"),c.a.createElement("input",{className:"item-add-input",name:"price",type:"number",min:"0",value:i.price,onChange:s,required:!0}),c.a.createElement("label",null,"Item Image Url"),c.a.createElement("input",{className:"item-add-input",name:"imageUrl",type:"url",value:i.imageUrl,onChange:s,required:!0}),c.a.createElement(I,null,"ADD NEW ITEM")),c.a.createElement("div",{className:"dashboard-image-container",style:{backgroundImage:"url(".concat(i.imageUrl,")")}},c.a.createElement("span",{className:"dashboard-image-preview"},"IMAGE PREVIEW")))})));function mt(e){var t=e.count,a=e.name;return c.a.createElement("div",{className:"dashboard-total"},c.a.createElement("span",{className:"name"},a),c.a.createElement("span",{className:"count"},t))}a(114);var ut=Object(o.b)((function(e){return{categoryCount:D(e),itemsCount:F(e)}}))((function(e){var t=e.categoryCount,a=e.itemsCount;return c.a.createElement("div",{className:"dashboard-home-container"},c.a.createElement("h1",{className:"title"},"DASHBOARD HOME"),c.a.createElement("div",{className:"dashboard-home-content"},c.a.createElement(mt,{count:a,name:"Items"}),c.a.createElement(mt,{count:t,name:"Categories"})))})),dt=function(e){var t=e.imageUrl,a=e.name,n=e.price,r=e.category,l=e.id,i=e.fetchFunc,o=function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,c,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.id,c=a.imageUrl,r=a.name,l=a.price,!window.confirm("Do you really want to remove item: ".concat(r))){e.next=13;break}return e.prev=2,e.next=5,X(t,{id:n,imageUrl:c,name:r,price:l.toString()},"remove");case 5:alert("".concat(r," removed")),i(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),alert("Error Removing Item Error,Check Console "),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"admin-item"},c.a.createElement("div",{className:"item-spec"},c.a.createElement("img",{src:t,alt:"item"})),c.a.createElement("span",{className:"item-spec"},a),c.a.createElement("span",{className:"item-spec"},r.name),c.a.createElement("span",{className:"item-spec"},"$",n),c.a.createElement("div",{className:"item-spec remove",onClick:function(){return o(r.dbid,{id:l,imageUrl:t,name:a,price:n})}},"\u2716"))},pt=(a(115),Object(o.b)((function(e){return{adminItems:H(e)}}))((function(e){var t=e.adminItems,a=e.fetchFunc,r=Object(n.useState)(0),l=Object(E.a)(r,2),i=l[0],o=l[1],s=Object(n.useState)(1),m=Object(E.a)(s,2),u=m[0],p=m[1],f=Object(n.useState)(Object(A.a)(t)),b=Object(E.a)(f,2),h=b[0],v=b[1],g=Object(n.useState)({nameQuery:"",categoryQuery:""}),O=Object(E.a)(g,2),N=O[0],y=O[1],j=Object(n.useState)({name:1,price:1}),C=Object(E.a)(j,2),k=C[0],S=C[1];Object(n.useEffect)((function(){o(Math.ceil(h.length/10))}),[h]),Object(n.useEffect)((function(){var e=N.nameQuery,a=N.categoryQuery;v(t.filter((function(t){return t.name.toLowerCase().includes(e)&&t.category.name.toLowerCase().includes(a)})))}),[N,t]);var T=function(e){var t=e.target,a=t.name,n=t.value;y(Object(d.a)(Object(d.a)({},N),{},Object(ze.a)({},a,n.toLowerCase()))),p(1)},w=function(e,t){var a=Object(A.a)(h);a.sort((function(a,n){return a[t]<n[t]?-1*e:a[t]>n[t]?1*e:0*e})),p(1),v(Object(A.a)(a)),S(Object(d.a)(Object(d.a)({},k),{},Object(ze.a)({},t,-1*e)))};return c.a.createElement("div",{className:"dashboard-item-remove-container"},c.a.createElement("h1",{className:"title"},"REMOVE AN ITEM"),c.a.createElement("div",{className:"filters-container"},c.a.createElement("span",{className:"filter"},c.a.createElement("label",null,"Filter Items by Name"),c.a.createElement("input",{className:"remove-item-filter-input",name:"nameQuery",onChange:T})),c.a.createElement("span",null,c.a.createElement("label",null,"Page"),c.a.createElement("h2",null,u)),c.a.createElement("span",{className:"filter"},c.a.createElement("label",null,"Filter Items by Category"),c.a.createElement("input",{className:"remove-item-filter-input",name:"categoryQuery",onChange:T}))),c.a.createElement("div",{className:"item-remove-header"},c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Image")),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",{onClick:function(){w(k.name,"name")}},"Name",k.name>0?c.a.createElement("span",{className:"sort-icon"},"\u276e"):c.a.createElement("span",{className:"sort-icon"},"\u276f"))),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Category")),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",{onClick:function(){w(k.price,"price")}},"Price",k.price>0?c.a.createElement("span",{className:"sort-icon"},"\u276e"):c.a.createElement("span",{className:"sort-icon"},"\u276f"))),c.a.createElement("div",{className:"header-block"},c.a.createElement("span",null,"Remove"))),h.filter((function(e,t){return t>=10*(u-1)&&t<10*u})).map((function(e){return c.a.createElement(dt,Object.assign({key:e.category.name+e.id},e,{fetchFunc:a}))})),c.a.createElement("div",{className:"buttons-container"},Object(A.a)(Array(i)).map((function(e,t){return c.a.createElement(I,{key:t,pageButton:!0,onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,p(t+1)},href:"#top"},t+1)}))))}))),Et=(a(116),Object(o.b)(null,(function(e){return{fetchCollectionsStartAsync:function(){return e(re())}}}))((function(e){var t=e.fetchCollectionsStartAsync,a=Object(n.useState)("home"),r=Object(E.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){t()}),[]),c.a.createElement("div",{className:"admin-container"},c.a.createElement("div",{className:"admin-content-container"},c.a.createElement("div",{className:"admin-sidebar"},c.a.createElement("h1",{className:"title"},"DASHBOARD"),c.a.createElement(I,{onClick:function(){i("home")},adminButton:!0,selectedAdmin:"home"===l},"HOME"),c.a.createElement(I,{onClick:function(){i("add")},adminButton:!0,selectedAdmin:"add"===l},"ADD NEW ITEM"),c.a.createElement(I,{onClick:function(){i("remove")},adminButton:!0,selectedAdmin:"remove"===l},"REMOVE ITEM"),c.a.createElement(I,{onClick:function(){t()},adminButton:!0},"REFRESH ITEMS LIST")),c.a.createElement("div",{className:"admin-content-detail"},"home"===l?c.a.createElement(ut,null):"add"===l?c.a.createElement(st,{fetchFunc:t}):c.a.createElement(pt,{fetchFunc:t}))))}))),ft=Object(b.b)({currentUser:Ve}),bt=Object(o.b)(ft,(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:lt.SET_CURRENT_USER,payload:e}}(t))}}}))((function(e){var t=e.currentUser,a=e.setCurrentUser,r=Object(n.useState)({loading:!0,isAdmin:!1}),l=Object(E.a)(r,2),i=l[0],o=l[1];return Object(n.useEffect)((function(){var e=null;return e=ee.onAuthStateChanged(function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Z(t);case 3:e.sent.onSnapshot((function(e){o({loading:!1,isAdmin:e.data().isAdmin}),a(Object(d.a)({id:e.id},e.data()))})),e.next=9;break;case 7:o({loading:!1,isAdmin:!1}),a(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){e()}}),[]),Object(n.useEffect)((function(){console.log(i)}),[t]),c.a.createElement("div",{className:"app-container"},c.a.createElement(Qe,null),c.a.createElement(f.d,null,c.a.createElement(f.b,{exact:!0,path:"/react-ecommerce/",component:w}),c.a.createElement(f.b,{path:"/react-ecommerce/shop",component:me}),c.a.createElement(f.b,{exact:!0,path:"/react-ecommerce/checkout",component:rt}),c.a.createElement(f.b,{exact:!0,path:"/react-ecommerce/search/:searchQuery",component:de}),c.a.createElement(f.b,{exact:!0,path:"/react-ecommerce/signin",render:function(){return t?c.a.createElement(f.a,{to:"/react-ecommerce/"}):c.a.createElement($e,null)}}),c.a.createElement(f.b,{path:"/react-ecommerce/admin",render:function(){return i.loading?c.a.createElement("h1",null,"Loading..."):i.isAdmin?c.a.createElement(Et,null):c.a.createElement(f.a,{to:"/react-ecommerce/"})}}),c.a.createElement(f.b,{render:function(){return c.a.createElement(f.a,{to:"/react-ecommerce/"})}})),c.a.createElement(it,null))})),ht=a(15),vt=a(30),gt=(a(117),a(55)),Ot=a(56),Nt={currentUser:null},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt.SET_CURRENT_USER:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload});default:return e}},jt=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},t),{},{quantity:e.quantity+1}):e})):[].concat(Object(A.a)(e),[Object(d.a)(Object(d.a)({},t),{},{quantity:1})])},Ct=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity-1}):e}))},kt={hidden:!0,cartItems:[]},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.TOGGLE_CART_HIDDEN:return Object(d.a)(Object(d.a)({},e),{},{hidden:!e.hidden});case W.ADD_ITEM:return Object(d.a)(Object(d.a)({},e),{},{cartItems:jt(e.cartItems,t.payload)});case W.CLEAR_ITEM_FROM_CART:return Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});case W.REMOVE_ITEM:return Object(d.a)(Object(d.a)({},e),{},{cartItems:Ct(e.cartItems,t.payload)});default:return e}},St={sections:[{title:"hats",imageUrl:"https://images.unsplash.com/photo-1587859165182-9afc12e90257?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80",id:1,linkUrl:"shop/hats"},{title:"jackets",imageUrl:"https://images.unsplash.com/photo-1551028719-00167b16eac5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=675&q=80",id:2,linkUrl:"shop/jackets"},{title:"sneakers",imageUrl:"https://images.unsplash.com/photo-1579338559194-a162d19bf842?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80",id:3,linkUrl:"shop/sneakers"},{title:"womens",imageUrl:"https://images.unsplash.com/photo-1588676478262-3d48b5a0c60e?ixlib=rb-1.2.1&auto=format&fit=crop&w=635&q=80",size:"large",id:4,linkUrl:"shop/womens"},{title:"mens",imageUrl:"https://images.unsplash.com/photo-1546215364-12f3fff5d578?ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",size:"large",id:5,linkUrl:"shop/mens"}]},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;return t.type,e},wt={collections:null,isFetching:!1,errorMessage:void 0},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.FETCH_COLLECTIONS_START:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!0});case ce.FETCH_COLLECTIONS_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1,collections:t.payload});case ce.FETCH_COLLECTIONS_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},Ut={key:"root",storage:a.n(Ot).a,whitelist:["cart"]},Lt=Object(ht.c)({user:yt,cart:It,directory:Tt,shop:At}),Rt=Object(vt.a)(Ut,Lt),_t=[gt.a];var xt=Object(ht.d)(Rt,ht.a.apply(void 0,_t)),Mt=Object(vt.b)(xt),Dt=function(){var e=Object(f.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,{store:xt},c.a.createElement(i.a,null,c.a.createElement(s.a,{persistor:Mt},c.a.createElement(Dt,null),c.a.createElement(bt,null))))),document.getElementById("root"))},57:function(e,t,a){e.exports=a(120)},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.16a35012.chunk.js.map